from django.http import JsonResponse
from .models import {{ entity_name }}

def delete_{{ entity_var }}(request, id):
    if request.method == 'DELETE':
        try:
            {{ entity_var }} = {{ entity_name }}.objects.get(pk=id)
            {{ entity_var }}.delete()
            return JsonResponse({'message': '{{ entity_name }} deletado com sucesso!'})
        except {{ entity_name }}.DoesNotExist:
            return JsonResponse({'error': '{{ entity_name }} n√£o encontrado'}, status=404)
        except Exception as e:
            return JsonResponse({'error': str(e)}, status=500)