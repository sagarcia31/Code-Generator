from django.http import JsonResponse
from .models import {{ entity_name }}

def update_{{ entity_var }}(request, id):
    if request.method == 'PUT':
        data = json.loads(request.body)
        try:
            {{ entity_var }} = {{ entity_name }}.objects.get(pk=id)
            {% for prop in properties.keys() %}
            {{ entity_var }}.{{ prop }} = data.get('{{ prop }}', {{ entity_var }}.{{ prop }})
            {% endfor %}
            {{ entity_var }}.save()
            return JsonResponse({'message': '{{ entity_name }} atualizado com sucesso!', 'data': {{ entity_var }}.to_dict()})
        except {{ entity_name }}.DoesNotExist:
            return JsonResponse({'error': '{{ entity_name }} n√£o encontrado'}, status=404)
        except Exception as e:
            return JsonResponse({'error': str(e)}, status=500)