from flask import jsonify
from .models import {{ entity_name }}, db

def delete_{{ entity_var }}(id):
    {{ entity_var }} = {{ entity_name }}.query.get_or_404(id)
    
    try:
        db.session.delete({{ entity_var }})
        db.session.commit()
        return jsonify({'message': '{{ entity_name }} deletado com sucesso!'}), 200
    except Exception as e:
        db.session.rollback()
        return jsonify({'error': str(e)}), 500